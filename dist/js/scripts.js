let pokemonRepository=function(){let t=[];function e(e){"object"==typeof e&&"name"in e&&"detailsUrl"in e?t.push(e):console.log("pokemon is not correct")}function i(){return t}let n=document.querySelector("#modal-container");function a(){n.classList.remove("is-visible")}return window.addEventListener("keydown",t=>{let e=document.querySelector("#modal-container");"Escape"===t.key&&e.classList.contains("is-visible")&&a()}),n.addEventListener("click",t=>{t.target===n&&a()}),{add:e,getAll:i,addListItem:function t(e){let i=document.querySelector(".pokemon-list"),n=document.createElement("li"),a=document.createElement("button");a.innerText=e.name,a.classList.add("pkbutton","btn","btn-primary"),a.setAttribute("data-toggle","modal"),a.setAttribute("data-target","#modal-container"),n.classList.add("list-group-item","mt-3"),i.appendChild(n),n.appendChild(a),a.addEventListener("click",()=>{(function t(e){var i;fetch((i=e).detailsUrl).then(function(t){return t.json()}).then(function(t){console.log(t),i.image=t.sprites.front_default,i.height=t.height,i.weight=t.weight,i.types=t.types,i.abilities=t.abilities}).catch(function(t){console.error(t)}).then(function(){var t;let i,n,a,o,l,s,p,r,c,d;t=e,i=$(".modal-body"),n=$(".modal-title"),$(".modal-header"),n.empty(),i.empty(),a=$("<h1>"+t.name+"<h1>"),(o=$('<img class="modal-img mx-auto d-block" style="height:200px">')).attr("src",t.image),l=$("<p>Height : "+t.height+"</p>"),s=$("<p>Weight : "+t.weight+"</p>"),1===t.types.length?p=t.types[0].type.name:2===t.types.length&&(p=t.types[0].type.name+", "+t.types[1].type.name),r=$("<p>Types: "+p+"</p>"),1===t.abilities.length?c=t.abilities[0].ability.name:2===t.abilities.length&&(c=t.abilities[0].ability.name+", "+t.abilities[1].ability.name),d=$("<p>Abilities : "+c+"</p>"),n.append(a),i.append(o),i.append(l),i.append(s),i.append(r),i.append(d),console.log(e)})})(e)})},loadList:function t(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=151").then(function(t){return t.json()}).then(function(t){t.results.forEach(function(t){e({name:t.name,detailsUrl:t.url})})}).catch(function(t){console.error(t)})}}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});